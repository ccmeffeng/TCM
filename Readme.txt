0001 伤寒论
0002 黄帝内经（白话）
0003 难经
0004 神农本草经
0005 圣济总录
diseases_out_description 疾病-描述（暂时不是单纯的症状）
disease 疾病名称
medicine 药方 组成-功效-主治测试数据



zy_0.0.1 仅用疾病-描述文本训练 维数300 窗口5 循环3 部分结果列于result/0.0.1


use_model_0.0.1 调用训练完成的model 进行部分测试
s = '腰椎间盘突出、腰椎骨性增生、骶髂关节的炎性疾病以及梨状肌挛缩等。典型的表现为一侧腰部、臀部疼痛，并向大腿后侧、小腿后外侧、足外侧放射。走路和改变体位可使疼痛加剧，平卧时病腿抬高受限。'
运行结果为：
(375, '肥大椎脊椎炎', 0.5260512828826904)
(7, '强直性脊柱炎（龟背）', 0.504688560962677)
(381, '椎管狭窄症', 0.4851931929588318)
(380, '膝关节炎', 0.45497632026672363)
(705, '乳腺癌（乳岩）', 0.45019352436065674)


zy_0.0.2 测试训练集中加入0001-0005是否对训练结果提升有帮助，使用的衡量参数是疾病之间的相互距离，因为疾病与自己的差异越小越好，与其他疾病的差异越大越好，所以用（与自己的距离 - 与最接近的一种其他疾病的距离）的和来决定。输出为：
[0, 0, 0, 0, 0]  distance = 128.89122712612152
[0, 0, 0, 0, 1]  distance = 238.70346334576607
……
0/1代表是否使用0001-0005的数据


zy_0.0.3 调整参数 参数包括维度&窗口（循环次数暂时固定为5） 维度50-1000（50） 窗口3-10（1） 输出为：
[50, 3]  distance = 126.46344292163849
[100, 3]  distance = 132.39890271425247
……


lqbz 测试将句子用zy_0.0.1训练得到的模型转化为向量并且求两个向量之间的夹角的余弦值，但是发现（d[0],d[0]）居然一直等于0.9727而不是1，这一点比较奇怪，难道神经网络产生的向量每次是不一样的？
两次相邻的infer_vector竟然不一样！这个完全不能理解！


zy_0.1.1 使用medicine测试数据，将所有的“主治”文本转换为文本向量，当输入症状时，用症状向量查找最接近（余弦值最大）的文本向量。功能以及可以实现，然而查找的结果并不对！
s = '外感风寒表实证。证见恶寒发热，无汗咳喘，苔薄白，脉浮紧。'（index = 0的数据）
结果：
26 0.643648
【五苓散】 木通   瞿麦   扁蓄  车前子   滑石   甘草梢   栀子   大黄  灯芯草 
1 0.622494
【桂枝汤】 桂枝  白芍   炙甘草   生姜   大枣 
12 0.618747
【大承气汤】  当归 肉苁蓉 番泻叶  广木香  厚朴   炒枳壳  醋香附  瞿麦  通草  六曲 
3 0.594912
【银翘散】 银花  连翘   淡豆豉  桔梗  荆芥   淡竹叶   薄荷  牛蒡子   芦根   甘草 
24 0.560528
【独活散】 独活  桑寄生  秦艽   防风   细辛   当归   白芍 川芎  熟地   杜仲  牛膝   党参   茯苓  桂心  甘草
遇到的问题和上面的lqbz中是一样的，这次更加明显，sim_cal（d[0],d[0]）竟然只有0.494280993954！

26 0.642727
【八正散】 木通   瞿麦   扁蓄  车前子   滑石   甘草梢   栀子   大黄  灯芯草 
1 0.624844
【桂枝汤】 桂枝  白芍   炙甘草   生姜   大枣 
12 0.619345
【当归苁蓉汤】  当归   肉苁蓉   番泻叶  广木香  厚朴   炒枳壳  醋香附  瞿麦  通草  六曲 
3 0.595038
【银翘散】 银花   连翘   淡豆豉  桔梗  荆芥   淡竹叶   薄荷  牛蒡子   芦根   甘草 
24 0.556459
【独活寄生汤】 独活  桑寄生  秦艽   防风   细辛   当归   白芍 川芎  熟地   杜仲  牛膝   党参   茯苓  桂心   甘草  
0.494260081551


zy_0.2.1 将medicine文档中的药方组成（只考虑主药，暂时认为第一个是主药）转化为one-hot向量存入Y.txt，将主治症状转化为文本向量存入X.txt，用于此后的深度学习。（暂时使用model_0.0.1.md进行）

##发现random.seed(0)操作

zy_1.x.x 均为先得到可以使用的程序，但是没有经过keyword expanssion？

zy_1.0.1 用0001、0002、0005训练得到的model_1.0.1进行处理，将990个症状全部转换为症状向量，储存在vector.txt中

zy_1.0.2 自行编写most_similar，实现疾病的检索

zy_1.1.1 将症状向量储存到mdc_vec.txt作为测试数据

zy_1.1.2 使用测试数据进行药方直接字典式检索（查找最接近的症状向量）


d1 = '头疼，感觉好像是血液一下子涌到脑袋上 有蹦跳的感觉 而且一般是有个周期的 大概从疼到不疼十多个小时 到时候就自然好了'
d2 = '头痛，像血管搏动一样，一跳一跳地痛'
0.0693784620372

d1 = '头疼，有血液在蹦跳的感觉，持续时间不长但是很疼'
d2 = '头痛，像血管搏动一样，一跳一跳地痛，十个小时左右自然恢复'
0.0748376342803

d1 = '头疼，有血液在蹦跳的感觉'
d2 = '头痛，像血管搏动一样一跳一跳地痛'
0.416932816843

d1 = '头疼'
d2 = '头痛'
0.885904874665

d1 = '肚子不舒服，感觉到绞痛'
d2 = '胃疼，有东西在里面翻滚的感觉'
0.681594621094

d1 = '一股剧烈的疼痛油然而升，刺激着我的神经。我的肚子像是被万根灼热的利刀刺着，一股绞心的疼痛遍布我的全身。一阵又阵的疼痛犹如钱塘江大潮一般朝我涌来，一波又一波。'
d2 = '我的肚子像是被一辆双层大巴士碾过似的，又有如万颗陨石刺破我的胃粘膜，仿佛有着上万只虫子啃噬着我的胃。'
0.62540536487

d1 = '吃完很辣的东西之后第二天就会觉得肚子里面很烫而且疼痛，偶尔会拉肚子，一般都要去很多次厕所'
d2 = '我胃里有灼热感，消化可能出现了一些问题，主要是跟饮食有关吧'
-0.12627357609

d1 = '吃完很辣的东西之后第二天就会觉得肚子里面很烫而且疼痛，偶尔会拉肚子，一般都要去很多次厕所'
d2 = '头疼，尤其是前一天晚上没有休息好的时候就会有半边脑袋特别疼，枕着软的东西会好一些'
0.240053714735


zy_4.0.1 无分词训练
zy_4.1.1 将疾病向量保存为diseases.npy
zy_4.1.2 在input中输入疾病，寻找最接近的疾病向量，输出对应疾病
zy_4.2.1 将药方的主治向量转化为文本向量（一共513个），其中每个向量最后加一个代表其分类（1-23）的数字，变为301维的向量
zy_4.2.2 输入分类的id和文本数据，输出开方


